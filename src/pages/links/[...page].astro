---
import LinkLayout from '../../layouts/LinkLayout.astro';
import Link from '../../components/Link.astro';
import Pagination  from '../../components/Pagination.astro';

export async function getStaticPaths({ paginate }) {
  const links = Astro.fetchContent('../../_posts/links/*.md').sort((a, b) => new Date(b.date) - new Date(a.date));
  return paginate(links, { pageSize: 5 });
}

const { page } = Astro.props;
---

<LinkLayout>
    {page.data.map((link) => (<Link link={link} />))}

    <Pagination page={page} />
</LinkLayout>
